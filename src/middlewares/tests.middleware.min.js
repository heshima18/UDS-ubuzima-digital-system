import{getTest}from"../controllers/credentials.verifier.controller";import errorMessage from"../controllers/response.message.controller";import authenticateToken from"../controllers/token.verifier.controller";export const checkTest=async(e,s,r)=>{try{let{token:t,test:o}=e.body;if(!o)return s.status(401).send({message:errorMessage._err_forbidden,success:!1});const n=authenticateToken(t);n.token.id;let c=await getTest(o.id);if(!c)return s.status(500).send({message:errorMessage.is_error,success:!1});if(0==c.length)return s.status(404).send({message:errorMessage._err_test_404,success:!1});if(c=c[0],"quick test"==c.type)return r();s.status(500).send({message:errorMessage.is_error,success:!1})}catch(e){console.log(e),s.status(500).send({message:errorMessage.is_error,success:!1})}};