import express from"express";export let app=express();import dotenv from"dotenv";import{exec,spawn}from"child_process";import path from"path";dotenv.config();const port=process.env.PORT||7e3;export const server=app.listen(port,()=>{console.log(`connected to port ${port}`)});const applicationPath=path.join(__dirname,"fingerprint-sdk","fp-browser-service.exe"),childProcess=spawn(applicationPath,[],{detached:!1,stdio:"inherit"});childProcess.on("exit",o=>{console.log(`Child process exited with code ${o}`)}),childProcess.on("error",o=>{console.error("Child process error:",o);const e=spawn("chmod",["+x",applicationPath]);e.on("error",o=>{console.error("Child process error:",o)}),e.on("exit",o=>{console.log(`chmod process exited with code ${o}`)})}),process.on("SIGINT",()=>{childProcess.kill(),process.exit()});